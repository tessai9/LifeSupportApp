<nav class="navbar navbar-default margin0px" id="header_menu">
	<div class="container-fluid">
		<div class="navbar-header">
			<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
				<span class="sr-only">Toggle navigation</span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
			</button>
			<a href="#" class="navbar-brand">TOPへ</a>
		</div>

		<div class="collapse navbar-collapse" id="navbar">
			<ul class="nav navbar-nav">
				<li id="login" onclick="pageAllocator('#contents','./html/login.html')"><a href="#">Login</a></li>
				<li id="top" onclick="pageAllocator('#contents','./html/top.html')"><a href="#">Mypage</a></li>
				<li id="money" onclick="pageAllocator('#contents','./html/money.html')"><a href="#">収支管理</a></li>
				<li id="todo" onclick="pageAllocator('#contents','./html/todo.html')"><a href="#">todoリスト</a></li>
				<li id="memo" onclick="pageAllocator('#contents','./html/memo.html')"><a href="#">備忘録</a></li>
				<li id="logout"><a href="#" onclick="logout()">Logout</a></li>
				<li id="debug_mode"><a href="#" onclick="switchDebugMode();">debug mode</a></li>
			</ul>
		</div>
	</div>
</nav>

<script type="text/javascript">
// 処理部

// ナビゲーションバーの表示・非表示設定
$(function(){
  $(".navbar-nav li").click(function(){
    $(".navbar-collapse").collapse('hide');
//			$('.navbar-toggle').click();
  });
	$("#contents").click(function(){
		$(".navbar-collapse").collapse('hide');
//			$('.navbar-toggle').click();
	});
	$("#header_menu").click(function(){
		$(".navbar-collapse").collapse('hide');
//			$('.navbar-toggle').click();
	});
});

// ログイン前後の表示切り替え
if(!sessionStorage.getItem('loginFlg')){
	$("#top").css('display','none');
	$("#logout").css('display','none');
	$("a.navbar-brand").bind('click',function(){
			pageAllocator("#contents",'./html/login.html');
	});
}else{
	$("#login").css('display','none');
	$("a.navbar-brand").bind('click',function(){
			pageAllocator("#contents",'./html/top.html');
	});
}

// 関数定義

// デバッグモード切り替え関数
function switchDebugMode(){
	if (!sessionStorage.getItem("debugFlg")) {
		alert("debug mode on");
		sessionStorage.setItem("debugFlg",true);
		sessionStorage.setItem("loginFlg",true);
		sessionStorage.setItem("user","test");
		sessionStorage.setItem("pass","test");
		deviceInit();
	} else {
		alert("debug mode off");
		logout();
	}
}

// ユーザー情報の削除
function logout(){
	sessionStorage.clear();
	deviceInit();
}

</script>
